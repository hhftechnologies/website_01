import{S as t,i as s,s as e,e as r,t as a,k as n,c as o,a as i,g as f,d as c,n as h,f as u,H as l,h as d,b as g,I as $,J as m,K as p,j as v,m as k,o as E,x as b,u as w,v as x}from"../chunks/vendor-e8f25f25.js";import{M as j}from"../chunks/Meta-176a5b72.js";function P(t,s,e){const r=t.slice();return r[1]=s[e].hed,r[2]=s[e].dek,r[3]=s[e].slug,r}function A(t){let s,e,g,$,m,p,v,k,E=t[1]+"",b=t[2]+"",w=t[3]+"";return{c(){s=r("h1"),e=a(E),g=n(),$=r("p"),m=a(b),p=n(),v=r("p"),k=a(w)},l(t){s=o(t,"H1",{});var r=i(s);e=f(r,E),r.forEach(c),g=h(t),$=o(t,"P",{});var a=i($);m=f(a,b),a.forEach(c),p=h(t),v=o(t,"P",{});var n=i(v);k=f(n,w),n.forEach(c)},m(t,r){u(t,s,r),l(s,e),u(t,g,r),u(t,$,r),l($,m),u(t,p,r),u(t,v,r),l(v,k)},p(t,s){1&s&&E!==(E=t[1]+"")&&d(e,E),1&s&&b!==(b=t[2]+"")&&d(m,b),1&s&&w!==(w=t[3]+"")&&d(k,w)},d(t){t&&c(s),t&&c(g),t&&c($),t&&c(p),t&&c(v)}}}function H(t){let s,e,d,p,v,k,E=t[0],b=[];for(let r=0;r<E.length;r+=1)b[r]=A(P(t,E,r));return{c(){s=r("h1"),e=a("The Pudding"),d=n();for(let t=0;t<b.length;t+=1)b[t].c();p=n(),v=r("a"),k=a("About"),this.h()},l(t){s=o(t,"H1",{});var r=i(s);e=f(r,"The Pudding"),r.forEach(c),d=h(t);for(let s=0;s<b.length;s+=1)b[s].l(t);p=h(t),v=o(t,"A",{href:!0});var a=i(v);k=f(a,"About"),a.forEach(c),this.h()},h(){g(v,"href","/about")},m(t,r){u(t,s,r),l(s,e),u(t,d,r);for(let s=0;s<b.length;s+=1)b[s].m(t,r);u(t,p,r),u(t,v,r),l(v,k)},p(t,[s]){if(1&s){let e;for(E=t[0],e=0;e<E.length;e+=1){const r=P(t,E,e);b[e]?b[e].p(r,s):(b[e]=A(r),b[e].c(),b[e].m(p.parentNode,p))}for(;e<b.length;e+=1)b[e].d(1);b.length=E.length}},i:$,o:$,d(t){t&&c(s),t&&c(d),m(b,t),t&&c(p),t&&c(v)}}}function y(t,s,e){let{stories:r}=s;return r.sort(((t,s)=>p(t.hed,s.hed))),t.$$set=t=>{"stories"in t&&e(0,r=t.stories)},[r]}class M extends t{constructor(t){super(),s(this,t,y,H,e,{stories:0})}}function T(t){let s,e,r,a;return s=new j({}),r=new M({props:{stories:t[0]}}),{c(){v(s.$$.fragment),e=n(),v(r.$$.fragment)},l(t){k(s.$$.fragment,t),e=h(t),k(r.$$.fragment,t)},m(t,n){E(s,t,n),u(t,e,n),E(r,t,n),a=!0},p(t,[s]){const e={};1&s&&(e.stories=t[0]),r.$set(e)},i(t){a||(b(s.$$.fragment,t),b(r.$$.fragment,t),a=!0)},o(t){w(s.$$.fragment,t),w(r.$$.fragment,t),a=!1},d(t){x(s,t),t&&c(e),x(r,t)}}}const C=!0;async function I({page:t,fetch:s,session:e,context:r}){const a=await s("/api/stories?keys=test");if(a.ok){return{props:{stories:await a.json()}}}return{status:a.status,error:new Error("Could not load data")}}function J(t,s,e){let{stories:r}=s;return t.$$set=t=>{"stories"in t&&e(0,r=t.stories)},[r]}class K extends t{constructor(t){super(),s(this,t,J,T,e,{stories:0})}}export{K as default,I as load,C as prerender};
