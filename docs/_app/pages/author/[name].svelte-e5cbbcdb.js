import{S as P,i as z,s as B,e as k,t as S,k as w,c as v,a as E,g as j,d as _,n as T,b as H,f as p,H as g,x as b,j as L,m as A,o as C,u as y,v as I,r as O,w as U,L as K,l as M,a3 as Q,Y,Z as q,I as D}from"../../chunks/vendor-b386a5bd.js";import{H as R,M as V}from"../../chunks/HeroText-5bca306d.js";import{S as W}from"../../chunks/Story-32153ea8.js";import"../../chunks/stores-c70ea8e6.js";function X(a){const e=["zero","one","two","three","four","five","six","seven","eight","nine"];return a>=10?a:e[a]}function Z(a,e,s){const n=a.slice();return n[11]=e[s].tease,n[5]=e[s].url,n[12]=e[s].slug,n[13]=e[s].date,n}function x(a){let e,s;return{c(){e=new Y,s=M(),this.h()},l(n){e=q(n),s=M(),this.h()},h(){e.a=s},m(n,o){e.m(a[3],n,o),p(n,s,o)},p:D,d(n){n&&_(s),n&&e.d()}}}function F(a){let e;return{c(){e=S(a[4])},l(s){e=j(s,a[4])},m(s,n){p(s,e,n)},p:D,d(s){s&&_(e)}}}function ee(a){let e,s,n,o,t,r,l,i,$,f,c=a[3]&&x(a),u=a[0].length&&F(a);return{c(){e=k("h1"),s=S(a[1]),n=w(),o=k("p"),t=k("span"),r=S(a[1]),l=w(),i=new Y,$=w(),c&&c.c(),f=w(),u&&u.c(),this.h()},l(h){e=v(h,"H1",{});var m=E(e);s=j(m,a[1]),m.forEach(_),n=T(h),o=v(h,"P",{});var d=E(o);t=v(d,"SPAN",{class:!0});var N=E(t);r=j(N,a[1]),l=T(N),N.forEach(_),i=q(d),$=T(d),c&&c.l(d),f=T(d),u&&u.l(d),d.forEach(_),this.h()},h(){H(t,"class","sr-only"),i.a=$},m(h,m){p(h,e,m),g(e,s),p(h,n,m),p(h,o,m),g(o,t),g(t,r),g(t,l),i.m(a[2],o),g(o,$),c&&c.m(o,null),g(o,f),u&&u.m(o,null)},p(h,m){h[3]&&c.p(h,m),h[0].length?u?u.p(h,m):(u=F(h),u.c(),u.m(o,null)):u&&(u.d(1),u=null)},d(h){h&&_(e),h&&_(n),h&&_(o),c&&c.d(),u&&u.d()}}}function G(a){let e,s,n,o,t,r,l=a[0],i=[];for(let f=0;f<l.length;f+=1)i[f]=J(Z(a,l,f));const $=f=>y(i[f],1,1,()=>{i[f]=null});return{c(){e=k("section"),s=k("h2"),n=S("Stories"),o=w(),t=k("ul");for(let f=0;f<i.length;f+=1)i[f].c();this.h()},l(f){e=v(f,"SECTION",{id:!0});var c=E(e);s=v(c,"H2",{class:!0});var u=E(s);n=j(u,"Stories"),u.forEach(_),o=T(c),t=v(c,"UL",{});var h=E(t);for(let m=0;m<i.length;m+=1)i[m].l(h);h.forEach(_),c.forEach(_),this.h()},h(){H(s,"class","column-wide upper"),H(e,"id","stories")},m(f,c){p(f,e,c),g(e,s),g(s,n),g(e,o),g(e,t);for(let u=0;u<i.length;u+=1)i[u].m(t,null);r=!0},p(f,c){if(c&1){l=f[0];let u;for(u=0;u<l.length;u+=1){const h=Z(f,l,u);i[u]?(i[u].p(h,c),b(i[u],1)):(i[u]=J(h),i[u].c(),b(i[u],1),i[u].m(t,null))}for(O(),u=l.length;u<i.length;u+=1)$(u);U()}},i(f){if(!r){for(let c=0;c<l.length;c+=1)b(i[c]);r=!0}},o(f){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)y(i[c]);r=!1},d(f){f&&_(e),K(i,f)}}}function J(a){let e,s,n,o;return s=new W({props:{tease:a[11],url:a[5],slug:a[12]}}),{c(){e=k("li"),L(s.$$.fragment),n=w(),this.h()},l(t){e=v(t,"LI",{class:!0});var r=E(e);A(s.$$.fragment,r),n=T(r),r.forEach(_),this.h()},h(){H(e,"class","no-padding-li svelte-bu5a5z")},m(t,r){p(t,e,r),C(s,e,null),g(e,n),o=!0},p(t,r){const l={};r&1&&(l.tease=t[11]),r&1&&(l.url=t[5]),r&1&&(l.slug=t[12]),s.$set(l)},i(t){o||(b(s.$$.fragment,t),o=!0)},o(t){y(s.$$.fragment,t),o=!1},d(t){t&&_(e),I(s)}}}function te(a){let e,s,n,o,t;s=new R({props:{$$slots:{default:[ee]},$$scope:{ctx:a}}});let r=a[0].length&&G(a);return{c(){e=k("section"),L(s.$$.fragment),n=w(),r&&r.c(),o=M(),this.h()},l(l){e=v(l,"SECTION",{id:!0,class:!0});var i=E(e);A(s.$$.fragment,i),i.forEach(_),n=T(l),r&&r.l(l),o=M(),this.h()},h(){H(e,"id","intro"),H(e,"class","column-wide")},m(l,i){p(l,e,i),C(s,e,null),p(l,n,i),r&&r.m(l,i),p(l,o,i),t=!0},p(l,[i]){const $={};i&65537&&($.$$scope={dirty:i,ctx:l}),s.$set($),l[0].length?r?(r.p(l,i),i&1&&b(r,1)):(r=G(l),r.c(),b(r,1),r.m(o.parentNode,o)):r&&(O(),y(r,1,1,()=>{r=null}),U())},i(l){t||(b(s.$$.fragment,l),b(r),t=!0)},o(l){y(s.$$.fragment,l),y(r),t=!1},d(l){l&&_(e),I(s),l&&_(n),r&&r.d(l),l&&_(o)}}}function se(a,e,s){let{stories:n}=e,{author:o}=e;n.sort((m,d)=>Q(m.date,d.date));const{name:t,url:r,twitter:l}=o,i=o.bio||"is a contributor to The Pudding.",f=(()=>{const m=l?`You can follow them on <a href=${l} rel="external">Twitter</a>`:void 0,d=r?`out their <a href=${r} rel="external">website</a>`:void 0;if(m&&d)return`
			${m} or check ${d}. 
		`;if(m)return m;if(d)return`Check ${d}.`})(),c=X(n.length),u=n.length===1?"y":"ies",h=`They have worked on ${c} stor${u} to date. Explore them all below.`;return a.$$set=m=>{"stories"in m&&s(0,n=m.stories),"author"in m&&s(6,o=m.author)},[n,t,i,f,h,r,o]}class ne extends P{constructor(e){super();z(this,e,se,te,B,{stories:0,author:6})}}function re(a){let e,s,n,o;return e=new V({props:{copy:a[2]}}),n=new ne({props:{stories:a[0],author:a[1]}}),{c(){L(e.$$.fragment),s=w(),L(n.$$.fragment)},l(t){A(e.$$.fragment,t),s=T(t),A(n.$$.fragment,t)},m(t,r){C(e,t,r),p(t,s,r),C(n,t,r),o=!0},p(t,[r]){const l={};r&1&&(l.stories=t[0]),r&2&&(l.author=t[1]),n.$set(l)},i(t){o||(b(e.$$.fragment,t),b(n.$$.fragment,t),o=!0)},o(t){y(e.$$.fragment,t),y(n.$$.fragment,t),o=!1},d(t){I(e,t),t&&_(s),I(n,t)}}}async function fe({page:a,fetch:e}){const s=`/api/${a.params.name}.json`,n=await e(s);if(n.ok){const{stories:o,author:t}=await n.json();return{props:{stories:o,author:t}}}return{status:n.status,error:new Error("Could not load data")}}function oe(a,e,s){let{stories:n}=e,{author:o}=e;const t={title:o.name,description:"Author bio and published stories"};return a.$$set=r=>{"stories"in r&&s(0,n=r.stories),"author"in r&&s(1,o=r.author)},[n,o,t]}class ce extends P{constructor(e){super();z(this,e,oe,re,B,{stories:0,author:1})}}export{ce as default,fe as load};
