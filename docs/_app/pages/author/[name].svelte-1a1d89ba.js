import{S as B,i as O,s as U,e as k,j as L,k as w,c as b,a as E,m as C,n as T,d as m,f as v,o as M,H as g,x as y,u as H,v as A,t as I,g as N,b as j,r as X,w as Y,K as F,a1 as G,W as q,l as z,X as D,I as J}from"../../chunks/vendor-868b2ba2.js";import{M as Q}from"../../chunks/Meta-9d4959a9.js";import{S as R}from"../../chunks/Story-a65aa67a.js";import{H as V}from"../../chunks/HeroText-a2f169f6.js";function Z(l){const t=["zero","one","two","three","four","five","six","seven","eight","nine"];return l>=10?l:t[l]}function K(l,t,r){const s=l.slice();return s[11]=t[r].tease,s[5]=t[r].url,s[12]=t[r].slug,s[13]=t[r].date,s}function x(l){let t,r;return{c(){t=new q,r=z(),this.h()},l(s){t=D(s),r=z(),this.h()},h(){t.a=r},m(s,o){t.m(l[3],s,o),v(s,r,o)},p:J,d(s){s&&m(r),s&&t.d()}}}function ee(l){let t,r,s,o,e,u,h,_,p,d,i,$=l[3]&&x(l);return{c(){t=k("h1"),r=I(l[1]),s=w(),o=k("p"),e=k("span"),u=I(l[1]),h=w(),_=new q,p=w(),$&&$.c(),d=w(),i=I(l[4]),this.h()},l(n){t=b(n,"H1",{});var a=E(t);r=N(a,l[1]),a.forEach(m),s=T(n),o=b(n,"P",{});var f=E(o);e=b(f,"SPAN",{class:!0});var c=E(e);u=N(c,l[1]),h=T(c),c.forEach(m),_=D(f),p=T(f),$&&$.l(f),d=T(f),i=N(f,l[4]),f.forEach(m),this.h()},h(){j(e,"class","sr-only"),_.a=p},m(n,a){v(n,t,a),g(t,r),v(n,s,a),v(n,o,a),g(o,e),g(e,u),g(e,h),_.m(l[2],o),g(o,p),$&&$.m(o,null),g(o,d),g(o,i)},p(n,a){n[3]&&$.p(n,a)},d(n){n&&m(t),n&&m(s),n&&m(o),$&&$.d()}}}function W(l){let t,r,s,o;return r=new R({props:{tease:l[11],url:l[5],slug:l[12]}}),{c(){t=k("li"),L(r.$$.fragment),s=w()},l(e){t=b(e,"LI",{});var u=E(t);C(r.$$.fragment,u),s=T(u),u.forEach(m)},m(e,u){v(e,t,u),M(r,t,null),g(t,s),o=!0},p(e,u){const h={};u&1&&(h.tease=e[11]),u&1&&(h.url=e[5]),u&1&&(h.slug=e[12]),r.$set(h)},i(e){o||(y(r.$$.fragment,e),o=!0)},o(e){H(r.$$.fragment,e),o=!1},d(e){e&&m(t),A(r)}}}function te(l){let t,r,s,o,e,u,h,_,p;r=new V({props:{$$slots:{default:[ee]},$$scope:{ctx:l}}});let d=l[0],i=[];for(let n=0;n<d.length;n+=1)i[n]=W(K(l,d,n));const $=n=>H(i[n],1,1,()=>{i[n]=null});return{c(){t=k("section"),L(r.$$.fragment),s=w(),o=k("section"),e=k("h2"),u=I("Stories"),h=w(),_=k("ul");for(let n=0;n<i.length;n+=1)i[n].c();this.h()},l(n){t=b(n,"SECTION",{id:!0,class:!0});var a=E(t);C(r.$$.fragment,a),a.forEach(m),s=T(n),o=b(n,"SECTION",{id:!0});var f=E(o);e=b(f,"H2",{class:!0});var c=E(e);u=N(c,"Stories"),c.forEach(m),h=T(f),_=b(f,"UL",{});var S=E(_);for(let P=0;P<i.length;P+=1)i[P].l(S);S.forEach(m),f.forEach(m),this.h()},h(){j(t,"id","intro"),j(t,"class","column svelte-ple561"),j(e,"class","column svelte-ple561"),j(o,"id","stories")},m(n,a){v(n,t,a),M(r,t,null),v(n,s,a),v(n,o,a),g(o,e),g(e,u),g(o,h),g(o,_);for(let f=0;f<i.length;f+=1)i[f].m(_,null);p=!0},p(n,[a]){const f={};if(a&65536&&(f.$$scope={dirty:a,ctx:n}),r.$set(f),a&1){d=n[0];let c;for(c=0;c<d.length;c+=1){const S=K(n,d,c);i[c]?(i[c].p(S,a),y(i[c],1)):(i[c]=W(S),i[c].c(),y(i[c],1),i[c].m(_,null))}for(X(),c=d.length;c<i.length;c+=1)$(c);Y()}},i(n){if(!p){y(r.$$.fragment,n);for(let a=0;a<d.length;a+=1)y(i[a]);p=!0}},o(n){H(r.$$.fragment,n),i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)H(i[a]);p=!1},d(n){n&&m(t),A(r),n&&m(s),n&&m(o),F(i,n)}}}function se(l,t,r){let{stories:s}=t,{author:o}=t;s.sort((a,f)=>G(a.date,f.date));const{name:e,url:u,twitter:h}=o,_=o.bio||"is a contributor to The Pudding.",d=(()=>{const a=h?`You can follow them on <a href=${h} rel="external">Twitter</a>`:void 0,f=u?`out their <a href=${u} rel="external">website</a>`:void 0;if(a&&f)return`
			${a} or check ${f}. 
		`;if(a)return a;if(f)return`Check ${f}.`})(),i=Z(s.length),$=s.length===1?"y":"ies",n=`They have worked on ${i} stor${$} to date. Explore them all below.`;return l.$$set=a=>{"stories"in a&&r(0,s=a.stories),"author"in a&&r(6,o=a.author)},[s,e,_,d,n,u,o]}class ne extends B{constructor(t){super();O(this,t,se,te,U,{stories:0,author:6})}}function re(l){let t,r,s,o;return t=new Q({}),s=new ne({props:{stories:l[0],author:l[1]}}),{c(){L(t.$$.fragment),r=w(),L(s.$$.fragment)},l(e){C(t.$$.fragment,e),r=T(e),C(s.$$.fragment,e)},m(e,u){M(t,e,u),v(e,r,u),M(s,e,u),o=!0},p(e,[u]){const h={};u&1&&(h.stories=e[0]),u&2&&(h.author=e[1]),s.$set(h)},i(e){o||(y(t.$$.fragment,e),y(s.$$.fragment,e),o=!0)},o(e){H(t.$$.fragment,e),H(s.$$.fragment,e),o=!1},d(e){A(t,e),e&&m(r),A(s,e)}}}async function fe({page:l,fetch:t}){const r=`/api/${l.params.name}.json`,s=await t(r);if(s.ok){const{stories:o,author:e}=await s.json();return{props:{stories:o,author:e}}}return{status:s.status,error:new Error("Could not load data")}}function oe(l,t,r){let{stories:s}=t,{author:o}=t;return l.$$set=e=>{"stories"in e&&r(0,s=e.stories),"author"in e&&r(1,o=e.author)},[s,o]}class ce extends B{constructor(t){super();O(this,t,oe,re,U,{stories:0,author:1})}}export{ce as default,fe as load};
