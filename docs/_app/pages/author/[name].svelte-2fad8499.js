import{S as P,i as z,s as B,e as b,t as S,k as w,c as v,a as E,g as j,d as _,n as T,b as H,f as d,H as g,x as k,j as L,m as A,o as C,u as y,v as M,r as O,w as U,L as K,l as I,a5 as Q,Z as q,_ as D,I as Y}from"../../chunks/vendor-fb14e7c9.js";import{M as R}from"../../chunks/Meta-5d653f15.js";import{S as V}from"../../chunks/Story-f227a245.js";import{H as W}from"../../chunks/HeroText-77fbc69c.js";import"../../chunks/stores-4e369268.js";function X(i){const e=["zero","one","two","three","four","five","six","seven","eight","nine"];return i>=10?i:e[i]}function Z(i,e,s){const n=i.slice();return n[11]=e[s].tease,n[5]=e[s].url,n[12]=e[s].slug,n[13]=e[s].date,n}function x(i){let e,s;return{c(){e=new q,s=I(),this.h()},l(n){e=D(n),s=I(),this.h()},h(){e.a=s},m(n,o){e.m(i[3],n,o),d(n,s,o)},p:Y,d(n){n&&_(s),n&&e.d()}}}function F(i){let e;return{c(){e=S(i[4])},l(s){e=j(s,i[4])},m(s,n){d(s,e,n)},p:Y,d(s){s&&_(e)}}}function ee(i){let e,s,n,o,t,r,l,a,$,u,c=i[3]&&x(i),f=i[0].length&&F(i);return{c(){e=b("h1"),s=S(i[1]),n=w(),o=b("p"),t=b("span"),r=S(i[1]),l=w(),a=new q,$=w(),c&&c.c(),u=w(),f&&f.c(),this.h()},l(h){e=v(h,"H1",{});var m=E(e);s=j(m,i[1]),m.forEach(_),n=T(h),o=v(h,"P",{});var p=E(o);t=v(p,"SPAN",{class:!0});var N=E(t);r=j(N,i[1]),l=T(N),N.forEach(_),a=D(p),$=T(p),c&&c.l(p),u=T(p),f&&f.l(p),p.forEach(_),this.h()},h(){H(t,"class","sr-only"),a.a=$},m(h,m){d(h,e,m),g(e,s),d(h,n,m),d(h,o,m),g(o,t),g(t,r),g(t,l),a.m(i[2],o),g(o,$),c&&c.m(o,null),g(o,u),f&&f.m(o,null)},p(h,m){h[3]&&c.p(h,m),h[0].length?f?f.p(h,m):(f=F(h),f.c(),f.m(o,null)):f&&(f.d(1),f=null)},d(h){h&&_(e),h&&_(n),h&&_(o),c&&c.d(),f&&f.d()}}}function G(i){let e,s,n,o,t,r,l=i[0],a=[];for(let u=0;u<l.length;u+=1)a[u]=J(Z(i,l,u));const $=u=>y(a[u],1,1,()=>{a[u]=null});return{c(){e=b("section"),s=b("h2"),n=S("Stories"),o=w(),t=b("ul");for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){e=v(u,"SECTION",{id:!0});var c=E(e);s=v(c,"H2",{class:!0});var f=E(s);n=j(f,"Stories"),f.forEach(_),o=T(c),t=v(c,"UL",{});var h=E(t);for(let m=0;m<a.length;m+=1)a[m].l(h);h.forEach(_),c.forEach(_),this.h()},h(){H(s,"class","column-wide upper"),H(e,"id","stories")},m(u,c){d(u,e,c),g(e,s),g(s,n),g(e,o),g(e,t);for(let f=0;f<a.length;f+=1)a[f].m(t,null);r=!0},p(u,c){if(c&1){l=u[0];let f;for(f=0;f<l.length;f+=1){const h=Z(u,l,f);a[f]?(a[f].p(h,c),k(a[f],1)):(a[f]=J(h),a[f].c(),k(a[f],1),a[f].m(t,null))}for(O(),f=l.length;f<a.length;f+=1)$(f);U()}},i(u){if(!r){for(let c=0;c<l.length;c+=1)k(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)y(a[c]);r=!1},d(u){u&&_(e),K(a,u)}}}function J(i){let e,s,n,o;return s=new V({props:{tease:i[11],url:i[5],slug:i[12]}}),{c(){e=b("li"),L(s.$$.fragment),n=w(),this.h()},l(t){e=v(t,"LI",{class:!0});var r=E(e);A(s.$$.fragment,r),n=T(r),r.forEach(_),this.h()},h(){H(e,"class","no-padding-li svelte-bu5a5z")},m(t,r){d(t,e,r),C(s,e,null),g(e,n),o=!0},p(t,r){const l={};r&1&&(l.tease=t[11]),r&1&&(l.url=t[5]),r&1&&(l.slug=t[12]),s.$set(l)},i(t){o||(k(s.$$.fragment,t),o=!0)},o(t){y(s.$$.fragment,t),o=!1},d(t){t&&_(e),M(s)}}}function te(i){let e,s,n,o,t;s=new W({props:{$$slots:{default:[ee]},$$scope:{ctx:i}}});let r=i[0].length&&G(i);return{c(){e=b("section"),L(s.$$.fragment),n=w(),r&&r.c(),o=I(),this.h()},l(l){e=v(l,"SECTION",{id:!0,class:!0});var a=E(e);A(s.$$.fragment,a),a.forEach(_),n=T(l),r&&r.l(l),o=I(),this.h()},h(){H(e,"id","intro"),H(e,"class","column-wide")},m(l,a){d(l,e,a),C(s,e,null),d(l,n,a),r&&r.m(l,a),d(l,o,a),t=!0},p(l,[a]){const $={};a&65537&&($.$$scope={dirty:a,ctx:l}),s.$set($),l[0].length?r?(r.p(l,a),a&1&&k(r,1)):(r=G(l),r.c(),k(r,1),r.m(o.parentNode,o)):r&&(O(),y(r,1,1,()=>{r=null}),U())},i(l){t||(k(s.$$.fragment,l),k(r),t=!0)},o(l){y(s.$$.fragment,l),y(r),t=!1},d(l){l&&_(e),M(s),l&&_(n),r&&r.d(l),l&&_(o)}}}function se(i,e,s){let{stories:n}=e,{author:o}=e;n.sort((m,p)=>Q(m.date,p.date));const{name:t,url:r,twitter:l}=o,a=o.bio||"is a contributor to The Pudding.",u=(()=>{const m=l?`You can follow them on <a href=${l} rel="external">Twitter</a>`:void 0,p=r?`out their <a href=${r} rel="external">website</a>`:void 0;if(m&&p)return`
			${m} or check ${p}. 
		`;if(m)return m;if(p)return`Check ${p}.`})(),c=X(n.length),f=n.length===1?"y":"ies",h=`They have worked on ${c} stor${f} to date. Explore them all below.`;return i.$$set=m=>{"stories"in m&&s(0,n=m.stories),"author"in m&&s(6,o=m.author)},[n,t,a,u,h,r,o]}class ne extends P{constructor(e){super();z(this,e,se,te,B,{stories:0,author:6})}}function re(i){let e,s,n,o;return e=new R({props:{copy:i[2]}}),n=new ne({props:{stories:i[0],author:i[1]}}),{c(){L(e.$$.fragment),s=w(),L(n.$$.fragment)},l(t){A(e.$$.fragment,t),s=T(t),A(n.$$.fragment,t)},m(t,r){C(e,t,r),d(t,s,r),C(n,t,r),o=!0},p(t,[r]){const l={};r&1&&(l.stories=t[0]),r&2&&(l.author=t[1]),n.$set(l)},i(t){o||(k(e.$$.fragment,t),k(n.$$.fragment,t),o=!0)},o(t){y(e.$$.fragment,t),y(n.$$.fragment,t),o=!1},d(t){M(e,t),t&&_(s),M(n,t)}}}async function ce({page:i,fetch:e}){const s=`/api/${i.params.name}.json`,n=await e(s);if(n.ok){const{stories:o,author:t}=await n.json();return{props:{stories:o,author:t}}}return{status:n.status,error:new Error("Could not load data")}}function oe(i,e,s){let{stories:n}=e,{author:o}=e;const t={title:o.name,description:"Author bio and published stories"};return i.$$set=r=>{"stories"in r&&s(0,n=r.stories),"author"in r&&s(1,o=r.author)},[n,o,t]}class he extends P{constructor(e){super();z(this,e,oe,re,B,{stories:0,author:1})}}export{he as default,ce as load};
