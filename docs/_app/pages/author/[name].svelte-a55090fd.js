import{S as P,i as B,s as O,e as k,t as y,k as w,c as v,a as E,g as j,d as _,n as T,b as S,f as p,H as $,x as b,j as L,m as C,o as A,u as H,v as I,r as U,w as Y,K as J,l as M,a2 as Q,X as q,Y as z,I as D}from"../../chunks/vendor-a4d942a5.js";import{H as R,M as V}from"../../chunks/HeroText-0b395c12.js";import{S as W}from"../../chunks/Story-9081c68b.js";import"../../chunks/stores-3bda58c4.js";function Z(i){const e=["zero","one","two","three","four","five","six","seven","eight","nine"];return i>=10?i:e[i]}function K(i,e,n){const r=i.slice();return r[11]=e[n].tease,r[5]=e[n].url,r[12]=e[n].slug,r[13]=e[n].date,r}function x(i){let e,n;return{c(){e=new q,n=M(),this.h()},l(r){e=z(r),n=M(),this.h()},h(){e.a=n},m(r,o){e.m(i[3],r,o),p(r,n,o)},p:D,d(r){r&&_(n),r&&e.d()}}}function X(i){let e;return{c(){e=y(i[4])},l(n){e=j(n,i[4])},m(n,r){p(n,e,r)},p:D,d(n){n&&_(e)}}}function ee(i){let e,n,r,o,t,s,l,a,g,u,c=i[3]&&x(i),f=i[0].length&&X(i);return{c(){e=k("h1"),n=y(i[1]),r=w(),o=k("p"),t=k("span"),s=y(i[1]),l=w(),a=new q,g=w(),c&&c.c(),u=w(),f&&f.c(),this.h()},l(h){e=v(h,"H1",{});var m=E(e);n=j(m,i[1]),m.forEach(_),r=T(h),o=v(h,"P",{});var d=E(o);t=v(d,"SPAN",{class:!0});var N=E(t);s=j(N,i[1]),l=T(N),N.forEach(_),a=z(d),g=T(d),c&&c.l(d),u=T(d),f&&f.l(d),d.forEach(_),this.h()},h(){S(t,"class","sr-only"),a.a=g},m(h,m){p(h,e,m),$(e,n),p(h,r,m),p(h,o,m),$(o,t),$(t,s),$(t,l),a.m(i[2],o),$(o,g),c&&c.m(o,null),$(o,u),f&&f.m(o,null)},p(h,m){h[3]&&c.p(h,m),h[0].length?f?f.p(h,m):(f=X(h),f.c(),f.m(o,null)):f&&(f.d(1),f=null)},d(h){h&&_(e),h&&_(r),h&&_(o),c&&c.d(),f&&f.d()}}}function F(i){let e,n,r,o,t,s,l=i[0],a=[];for(let u=0;u<l.length;u+=1)a[u]=G(K(i,l,u));const g=u=>H(a[u],1,1,()=>{a[u]=null});return{c(){e=k("section"),n=k("h2"),r=y("Stories"),o=w(),t=k("ul");for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){e=v(u,"SECTION",{id:!0});var c=E(e);n=v(c,"H2",{class:!0});var f=E(n);r=j(f,"Stories"),f.forEach(_),o=T(c),t=v(c,"UL",{});var h=E(t);for(let m=0;m<a.length;m+=1)a[m].l(h);h.forEach(_),c.forEach(_),this.h()},h(){S(n,"class","column-wide upper"),S(e,"id","stories")},m(u,c){p(u,e,c),$(e,n),$(n,r),$(e,o),$(e,t);for(let f=0;f<a.length;f+=1)a[f].m(t,null);s=!0},p(u,c){if(c&1){l=u[0];let f;for(f=0;f<l.length;f+=1){const h=K(u,l,f);a[f]?(a[f].p(h,c),b(a[f],1)):(a[f]=G(h),a[f].c(),b(a[f],1),a[f].m(t,null))}for(U(),f=l.length;f<a.length;f+=1)g(f);Y()}},i(u){if(!s){for(let c=0;c<l.length;c+=1)b(a[c]);s=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)H(a[c]);s=!1},d(u){u&&_(e),J(a,u)}}}function G(i){let e,n,r,o;return n=new W({props:{tease:i[11],url:i[5],slug:i[12]}}),{c(){e=k("li"),L(n.$$.fragment),r=w()},l(t){e=v(t,"LI",{});var s=E(e);C(n.$$.fragment,s),r=T(s),s.forEach(_)},m(t,s){p(t,e,s),A(n,e,null),$(e,r),o=!0},p(t,s){const l={};s&1&&(l.tease=t[11]),s&1&&(l.url=t[5]),s&1&&(l.slug=t[12]),n.$set(l)},i(t){o||(b(n.$$.fragment,t),o=!0)},o(t){H(n.$$.fragment,t),o=!1},d(t){t&&_(e),I(n)}}}function te(i){let e,n,r,o,t;n=new R({props:{$$slots:{default:[ee]},$$scope:{ctx:i}}});let s=i[0].length&&F(i);return{c(){e=k("section"),L(n.$$.fragment),r=w(),s&&s.c(),o=M(),this.h()},l(l){e=v(l,"SECTION",{id:!0,class:!0});var a=E(e);C(n.$$.fragment,a),a.forEach(_),r=T(l),s&&s.l(l),o=M(),this.h()},h(){S(e,"id","intro"),S(e,"class","column-wide")},m(l,a){p(l,e,a),A(n,e,null),p(l,r,a),s&&s.m(l,a),p(l,o,a),t=!0},p(l,[a]){const g={};a&65537&&(g.$$scope={dirty:a,ctx:l}),n.$set(g),l[0].length?s?(s.p(l,a),a&1&&b(s,1)):(s=F(l),s.c(),b(s,1),s.m(o.parentNode,o)):s&&(U(),H(s,1,1,()=>{s=null}),Y())},i(l){t||(b(n.$$.fragment,l),b(s),t=!0)},o(l){H(n.$$.fragment,l),H(s),t=!1},d(l){l&&_(e),I(n),l&&_(r),s&&s.d(l),l&&_(o)}}}function ne(i,e,n){let{stories:r}=e,{author:o}=e;r.sort((m,d)=>Q(m.date,d.date));const{name:t,url:s,twitter:l}=o,a=o.bio||"is a contributor to The Pudding.",u=(()=>{const m=l?`You can follow them on <a href=${l} rel="external">Twitter</a>`:void 0,d=s?`out their <a href=${s} rel="external">website</a>`:void 0;if(m&&d)return`
			${m} or check ${d}. 
		`;if(m)return m;if(d)return`Check ${d}.`})(),c=Z(r.length),f=r.length===1?"y":"ies",h=`They have worked on ${c} stor${f} to date. Explore them all below.`;return i.$$set=m=>{"stories"in m&&n(0,r=m.stories),"author"in m&&n(6,o=m.author)},[r,t,a,u,h,s,o]}class re extends P{constructor(e){super();B(this,e,ne,te,O,{stories:0,author:6})}}function se(i){let e,n,r,o;return e=new V({props:{copy:i[2]}}),r=new re({props:{stories:i[0],author:i[1]}}),{c(){L(e.$$.fragment),n=w(),L(r.$$.fragment)},l(t){C(e.$$.fragment,t),n=T(t),C(r.$$.fragment,t)},m(t,s){A(e,t,s),p(t,n,s),A(r,t,s),o=!0},p(t,[s]){const l={};s&1&&(l.stories=t[0]),s&2&&(l.author=t[1]),r.$set(l)},i(t){o||(b(e.$$.fragment,t),b(r.$$.fragment,t),o=!0)},o(t){H(e.$$.fragment,t),H(r.$$.fragment,t),o=!1},d(t){I(e,t),t&&_(n),I(r,t)}}}async function ue({page:i,fetch:e}){const n=`/api/${i.params.name}.json`,r=await e(n);if(r.ok){const{stories:o,author:t}=await r.json();return{props:{stories:o,author:t}}}return{status:r.status,error:new Error("Could not load data")}}function oe(i,e,n){let{stories:r}=e,{author:o}=e;const t={title:o.name,description:"Author bio and published stories"};return i.$$set=s=>{"stories"in s&&n(0,r=s.stories),"author"in s&&n(1,o=s.author)},[r,o,t]}class ce extends P{constructor(e){super();B(this,e,oe,se,O,{stories:0,author:1})}}export{ce as default,ue as load};
